define(["app","angular","share","pager","lazyLoad","cs!style","cs!smCss","smJs","common/directive/header/header.js","cs!static/css/home/special"],function(a,t,i){a.angular.controller("home/specialCtrl",["$rootScope","$scope","$state","$stateParams","$http",function(t,$scope,l,n){a.myApp.settitle(t,"专题-美玩易试"),a.myApp.viewport("device"),$.setCookie("goods_index_link",location.hash),$scope.domain=$domain,$scope.headerForm="app"!=$.getParam("from"),$scope.headLeftFn=function(){location.href="#/home"},a.myApp.ajax({url:"/sale/specialDetail",data:{id:n.id}},function(a){a.err?$.toast(a.errMsg):($scope.specialData=a.data,r(),$scope.$digest(),$(".lazy").lazyLoad())});var r=function(){var a=$scope.specialData.detail.title,t=$scope.specialData.detail.title,l="http://img.beautysite.cn"+$scope.specialData.detail.image,n=location.href,r={success:function(){$.toast("分享成功！"),$(".wxfx").remove()}};i.setContent(a,t,l,n,r)};$scope.shareFn=function(){i.popupShare()},$("body").delegate(".modal-overlay","click",function(){$.closeModal()})}])});